modules:
  - type: files
    files:
      - source: system
        destination: /

  - type: bling
    install:
      - dconf-update-service

  - type: dnf
    repos:
      files:
        - brave-browser.repo
        - mullvad.repo
        - vscode.repo
      keys:
        - https://brave-browser-rpm-release.s3.brave.com/brave-core.asc
        - https://downloads.1password.com/linux/keys/1password.asc
        - https://packages.microsoft.com/keys/microsoft.asc
    optfix:
      - 1Password
      - brave.com
      - Mullvad VPN
    install:
      packages:
        - brave-browser
        - mullvad-vpn
        - code
        - papirus-icon-theme
    remove:
      auto-remove: false
      packages:
        - webapp-manager

  - type: bling
    install:
      - 1password # install 1Password (stable) and `op` CLI tool

  - type: default-flatpaks
    configurations:
      - scope: user
        repo:
          title: Flathub (user)
        install:
          - dev.vencord.Vesktop
          - com.vysp3r.ProtonPlus
          - io.github.Foldex.AdwSteamGtk
          - com.github.tchx84.Flatseal
          - io.missioncenter.MissionCenter
          - com.github.Matoking.protontricks
          - com.heroicgameslauncher.hgl
          - com.usebottles.bottles
          - net.codelogistics.webapps

  - type: systemd
    system:
      enabled:
        - podman.socket

  - type: fonts
    fonts:
      nerd-fonts:
        - JetBrainsMono
        - FiraCode
      google-fonts:
        - Inter
        - RobotoSlab